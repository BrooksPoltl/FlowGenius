### Feature: Unified Article Clustering, Scoring, and Summarization

This feature refactors the news curation pipeline to fully integrate article clustering, scoring, scraping, and summarization into a single LangGraph workflow. It introduces a scoring algorithm combining general news significance with personal user interest.

| Priority | Task Description | Implementation Details | Code Pointers | Dependencies | Status |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **P0** | Create `articleClusteringAgent` | Create a new agent that uses an LLM to group articles by topic based on headlines. The agent will output articles annotated with a `cluster_id` and a `news_significance_score` (0.0-1.0). | `src/main/services/news_curator/agents/clustering.ts` (new file) | None | Not Started |
| **P0** | Update `NewsCuratorState` for Unified Workflow | Expand the state in `graph.ts` to manage the full pipeline. Add fields for `clusteredArticles`, `scrapedContent`, `executiveSummary`, and `briefingId`. | `src/main/services/news_curator/graph.ts` | `clustering.ts` | Not Started |
| **P1** | Enhance `rankingAgent` with Combined Scoring | Modify the `rankingAgent` to calculate a final `interest_score`. This will be a weighted combination of the AI-generated `news_significance_score` (from the clustering agent) and a calculated score based on the user's explicit interests. | `src/main/services/news_curator/agents/ranking.ts` | `clustering.ts` | Not Started |
| **P1** | Integrate Scraping & Summarization into LangGraph | Create new `scraperAgent` and `summarizerAgent` functions that wrap the existing classes. These agents will be responsible for scraping content and generating the summary within the graph's state. | `src/main/services/news_curator/agents/scraper_agent.ts` (new file), `src/main/services/news_curator/agents/summarizer_agent.ts` (new file) | `scraper.ts`, `summarizer.ts` | Not Started |
| **P1** | Refactor `newsCuratorGraph` Workflow | In `graph.ts`, add the new `clustering`, `scraper`, `summarizer`, and `database_writer` nodes to the graph. The new flow will be `... -> 'curate' -> 'clustering' -> 'rank' -> 'scraper' -> 'summarizer' -> 'database_writer' -> ...`. The `generateSummaryInBackground` function will be removed. | `src/main/services/news_curator/graph.ts` | All new agents | Not Started |
| **P1** | Modify Database Schema | Add `cluster_id` (string) and `significance_score` (float) columns to the `Articles` table. Create a new migration file. | `src/main/db/schema.ts`, `src/main/db/migrations/` (new file) | None | Not Started |
| **P2** | Implement Smart Scraping in `scraperAgent` | The new `scraperAgent` will receive clustered, ranked articles. It will iterate through each cluster and attempt to scrape articles in descending order of their `interest_score`, stopping once a scrape is successful for that cluster. | `src/main/services/news_curator/agents/scraper_agent.ts` | `ranking.ts` | Not Started |
| **P2** | Update `summarizerAgent` to Use Scores | The `summarizerAgent` will now use the final `interest_score` to select the highest-ranking articles for "Main Stories" and the rest for "Quick Bites," replacing the simple array slice logic. | `src/main/services/news_curator/agents/summarizer_agent.ts` | `ranking.ts` | Not Started |
| **P2** | Unify Frontend View | Refactor the UI to eliminate separate "article" and "summary" views. Create a single, cohesive `BriefingView` that renders the entire briefing object, including main stories, quick bites, and a list of all source articles. | `src/renderer/screens/dashboard.tsx`, `src/renderer/components/` (refactor/new `BriefingView.tsx`) | Backend changes | Not Started | 